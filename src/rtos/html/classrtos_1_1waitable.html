<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: rtos::waitable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="classrtos.html">rtos</a></li><li class="navelem"><a class="el" href="classrtos_1_1waitable.html">waitable</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classrtos_1_1waitable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rtos::waitable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>abstract thing that a task can wait for  
 <a href="classrtos_1_1waitable.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rtos_8hpp_source.html">rtos.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for rtos::waitable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classrtos_1_1waitable.png" usemap="#rtos::waitable_map" alt=""/>
  <map id="rtos::waitable_map" name="rtos::waitable_map">
<area href="classrtos_1_1event.html" title="set of things that can happen, or a thing that has happened " alt="rtos::event" shape="rect" coords="243,0,395,24"/>
<area href="classrtos_1_1channel__base.html" title="rtos private implementation class " alt="rtos::channel_base" shape="rect" coords="0,112,152,136"/>
<area href="classrtos_1_1clock.html" title="free-running clock, ticks at a fixed frequency " alt="rtos::clock" shape="rect" coords="162,112,314,136"/>
<area href="classrtos_1_1flag.html" title="basic synchronisation mechanism. " alt="rtos::flag" shape="rect" coords="324,112,476,136"/>
<area href="classrtos_1_1timer.html" title="one-short timer " alt="rtos::timer" shape="rect" coords="486,112,638,136"/>
<area href="classrtos_1_1channel.html" title="waitable data queue " alt="rtos::channel&lt; T, SIZE &gt;" shape="rect" coords="0,168,152,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4630398f50ba7e661a64bfc491ffa10"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#ac4630398f50ba7e661a64bfc491ffa10">clear</a> (void)</td></tr>
<tr class="memdesc:ac4630398f50ba7e661a64bfc491ffa10"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the waitable  <a href="#ac4630398f50ba7e661a64bfc491ffa10">More...</a><br /></td></tr>
<tr class="separator:ac4630398f50ba7e661a64bfc491ffa10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:a9f335615e161cabbc504878ef03c3bf3 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f335615e161cabbc504878ef03c3bf3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a9f335615e161cabbc504878ef03c3bf3">print</a> (hwlib::ostream &amp;s) const </td></tr>
<tr class="memdesc:a9f335615e161cabbc504878ef03c3bf3 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints an event, for debugging only <br /></td></tr>
<tr class="separator:a9f335615e161cabbc504878ef03c3bf3 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0523abc492cb47b4ef37a762ddc442 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c0523abc492cb47b4ef37a762ddc442"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a1c0523abc492cb47b4ef37a762ddc442">operator==</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const </td></tr>
<tr class="memdesc:a1c0523abc492cb47b4ef37a762ddc442 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report wether two events are the same <br /></td></tr>
<tr class="separator:a1c0523abc492cb47b4ef37a762ddc442 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8c2497baaddf6c19d045578413f966 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a8c2497baaddf6c19d045578413f966"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a6a8c2497baaddf6c19d045578413f966">operator==</a> (const <a class="el" href="classrtos_1_1waitable.html">waitable</a> &amp;rhs) const </td></tr>
<tr class="memdesc:a6a8c2497baaddf6c19d045578413f966 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report whether an event corresponds to a waitable <br /></td></tr>
<tr class="separator:a6a8c2497baaddf6c19d045578413f966 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90eda8c24bf2915de25166bd2b1411f inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac90eda8c24bf2915de25166bd2b1411f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#ac90eda8c24bf2915de25166bd2b1411f">operator!=</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const </td></tr>
<tr class="memdesc:ac90eda8c24bf2915de25166bd2b1411f inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report wether two events are not the same <br /></td></tr>
<tr class="separator:ac90eda8c24bf2915de25166bd2b1411f inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3dcd2feb206d88ecf03920d60f48a27 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3dcd2feb206d88ecf03920d60f48a27"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#ae3dcd2feb206d88ecf03920d60f48a27">operator!=</a> (const <a class="el" href="classrtos_1_1waitable.html">waitable</a> &amp;rhs) const </td></tr>
<tr class="memdesc:ae3dcd2feb206d88ecf03920d60f48a27 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">report whether an event does not correspond to a waitable <br /></td></tr>
<tr class="separator:ae3dcd2feb206d88ecf03920d60f48a27 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75155ce72b01bd2927a411643ddae89 inherit pub_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtos_1_1event.html">event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#af75155ce72b01bd2927a411643ddae89">operator+</a> (const <a class="el" href="classrtos_1_1event.html">event</a> &amp;rhs) const </td></tr>
<tr class="memdesc:af75155ce72b01bd2927a411643ddae89 inherit pub_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">add two waitables, result can be used in a wait() call  <a href="#af75155ce72b01bd2927a411643ddae89">More...</a><br /></td></tr>
<tr class="separator:af75155ce72b01bd2927a411643ddae89 inherit pub_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aec600b639ba55717731d3c6cfe6ff8e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#aec600b639ba55717731d3c6cfe6ff8e6">waitable</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1task.html">task</a>, const char *name)</td></tr>
<tr class="memdesc:aec600b639ba55717731d3c6cfe6ff8e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, specify owner and name  <a href="#aec600b639ba55717731d3c6cfe6ff8e6">More...</a><br /></td></tr>
<tr class="separator:aec600b639ba55717731d3c6cfe6ff8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1c5cfb702d4bd50b91fab1ab355bc0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f1c5cfb702d4bd50b91fab1ab355bc0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1waitable.html#a3f1c5cfb702d4bd50b91fab1ab355bc0">set</a> (void)</td></tr>
<tr class="memdesc:a3f1c5cfb702d4bd50b91fab1ab355bc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the waitable <br /></td></tr>
<tr class="separator:a3f1c5cfb702d4bd50b91fab1ab355bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cbf4e72e1d4ab312b3901ed54f4d48e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#a6cbf4e72e1d4ab312b3901ed54f4d48e">event</a> (<a class="el" href="classrtos_1_1task__base.html">task_base</a> *<a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a>, unsigned int <a class="el" href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">mask</a>)</td></tr>
<tr class="memdesc:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, used by concrete events <br /></td></tr>
<tr class="separator:a6cbf4e72e1d4ab312b3901ed54f4d48e inherit pro_methods_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0ee29d8961a0b67cea2c3fa76da116da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ee29d8961a0b67cea2c3fa76da116da"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>waitable_set</b></td></tr>
<tr class="separator:a0ee29d8961a0b67cea2c3fa76da116da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classrtos_1_1event"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classrtos_1_1event')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classrtos_1_1event.html">rtos::event</a></td></tr>
<tr class="memitem:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa83745aabc941145f00386fd63f6b557"></a>
<a class="el" href="classrtos_1_1task__base.html">task_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa83745aabc941145f00386fd63f6b557">t</a></td></tr>
<tr class="memdesc:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">the owner task <br /></td></tr>
<tr class="separator:aa83745aabc941145f00386fd63f6b557 inherit pro_attribs_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtos_1_1event.html#aa6e6f66f74b4f1523e456d34dd7a1704">mask</a></td></tr>
<tr class="memdesc:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mask of this event, one bit is set  <a href="#aa6e6f66f74b4f1523e456d34dd7a1704">More...</a><br /></td></tr>
<tr class="separator:aa6e6f66f74b4f1523e456d34dd7a1704 inherit pro_attribs_classrtos_1_1event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>abstract thing that a task can wait for </p>
<p>The operation <a class="el" href="classrtos_1_1waitable.html#ac4630398f50ba7e661a64bfc491ffa10" title="clear the waitable ">clear()</a> is provided (virtual, the default only clears the waitable) <a class="el" href="classrtos_1_1waitable.html#a3f1c5cfb702d4bd50b91fab1ab355bc0" title="set the waitable ">set()</a> is provided but private (not all waitables can be set by the user).</p>
<p>Waitable is an abstract class (there are no objects that are just a waitable). <a class="el" href="classrtos_1_1flag.html">flag</a>, <a class="el" href="classrtos_1_1timer.html">timer</a>, <a class="el" href="classrtos_1_1clock.html">clock</a> and <a class="el" href="classrtos_1_1channel.html">channel</a> are concrete classes that inherit from waitable. A waitable is always created for a particular task. A maximum of 31 waitables can be created for each task. (Actually the maximum is 32, but one waitable created internally to implement the sleep() call.) A waitable can be in two states: set or cleared. A waitable is initially cleared.</p>
<p>A task can wait for one, a subset, or all waitables created for it. The default is to wait for all waitables created for the task, the other variants are specified by supplying to the task:wait() call either a single waitable, or the sum (operator+) of the waitables you want to wait for. When one of the waitables that is waited for becomes set the wait() call clears that waitable and returns an event that compares equal to the waitable. (Note that some waitables, for instance the channel, can immediately set itself again.) The calling task can compare that event to the waitables to see which event happened. When more than one of the waited-for waitables is set the wait() call makes an arbitrary choice from these waitables. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aec600b639ba55717731d3c6cfe6ff8e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rtos::waitable::waitable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrtos_1_1task__base.html">task_base</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>constructor, specify owner and name </p>
<p>The name is used for debugging only. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac4630398f50ba7e661a64bfc491ffa10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void rtos::waitable::clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>clear the waitable </p>
<p>This is automatically doen when the waitable causes a <a class="el" href="classrtos_1_1task__base.html#a2590ba76480cecaff66282516fbeb1bb" title="wait for all waitables created for this task ">task::wait()</a> call to return it. </p>

<p>Reimplemented in <a class="el" href="classrtos_1_1channel.html#a0a86102d13f98ef7258a3fadbc881abd">rtos::channel&lt; T, SIZE &gt;</a>, and <a class="el" href="classrtos_1_1clock.html#aa90115db325c074071ae956cb101f046">rtos::clock</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="rtos_8hpp_source.html">rtos.hpp</a></li>
<li>rtos.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
